<div class="container">
  <h2>Car fields</h2>

  <form [formGroup]="carForm" [class.error] = "carForm.invalid && carForm.dirty" (ngSubmit)="onSubmit()">
    <div>
      <label >Car VIN:</label>
      <input formControlName="vin"  placeholder="VIN" />

      <br>
      {{carForm.controls.vin.valid}}
      <br> <br><br>
      <label>Car color:</label>
      <input formControlName="color" [class.error]="carForm.controls.color.invalid && carForm.controls.color.touched" placeholder="Color" />
      <br>
      <em *ngIf = "carForm.controls.color.invalid && carForm.controls.color.touched">Please enter a color</em>
      <br> <br>
      <label>Car brand:</label>
      <input formControlName="brand" [class.error]="carForm.controls.brand.invalid && carForm.controls.brand.touched"placeholder="Brand" />
      <br>
      <em *ngIf = "carForm.controls.brand.invalid && carForm.controls.brand.touched">Please enter a brand</em>
      <br> <br>
      <label>Car number of doors:</label>
      <input formControlName="doorNr" placeholder="DoorNr" />
      <br> <br>
      <form formGroupName="category" class="category">
        <label>Car category:</label>
        <ng-select *ngIf="categories != null" [items]="categories" formControlName="name"
          placeholder="Category" bindLabel="name" bindValue="name">
        </ng-select>
      </form>

        <br>
        <label>Car type:</label>
        <ng-select *ngIf="types != null" [items]="types" formControlName="type"
         placeholder="Type"></ng-select>

     </div>
    <br>
    <em *ngIf="carForm.invalid && carForm.dirty">Incomplete form</em>
  </form>
  <button type="submit" class="btn btn-primary" [disabled]="carForm.invalid" (click)="onSubmit()">Save</button>
</div>

{{addedCar | json}}
<br><br>
{{categories |json}}
